---
sidebar_position: 1
slug: /
---

# Anton

Kubernetes homelab cluster for learning & experimentation. It is running on 3 MS-01 nodes with Talos Linux and Flux GitOps.

ðŸ”— **Blog Post**: https://wcygan.net/anton

### **Warning to readers**

This documentation is heavily generated by AI and may be inaccurate / incomplete. AI is used for both development and documentation. I am primarily using [Claude Code](https://www.anthropic.com/claude-code). I am not a professional SRE or DevOps engineer, so Claude enables me to do things that I wouldn't be able to do otherwise.

The AI has already deleted all of my software once (just like in [Silicon Valley](https://www.youtube.com/watch?v=m0b_D2JgZgY)). I'm **okay with that** because there isn't anything important in the cluster. It's entirely for educational purposes.

### Key Features
- **Immutable Infrastructure**: Talos Linux (API-driven, no SSH)
- **GitOps**: Flux v2 for declarative deployments
- **High Availability**: 3-node control plane with distributed storage
- **Monitoring**: Prometheus + Grafana + AlertManager
- **Logging**: Loki stack with S3 storage backend
- **Storage**: Rook-Ceph distributed block storage
- **Networking**: Cilium CNI with kube-proxy replacement
- **Ingress**: NGINX with Cloudflare tunnel integration

### Hardware
- **Nodes**: 3x MS-01 mini PCs (Intel N100, 16GB RAM each)
- **Storage**: 6x 1TB NVMe SSDs (2 per node, 3-way replication)
- **Network**: Gigabit Ethernet

## Cluster Topology

```mermaid
flowchart TD
    internet[Internet] --> cloudflare[Cloudflare Tunnel]
    cloudflare --> nginx[NGINX Ingress Controller]
    
    subgraph cluster[Anton Kubernetes Cluster]
        nginx
        
        subgraph nodes[Control Plane Nodes]
            direction LR
            k8s1[k8s-1<br/>192.168.1.98]
            k8s2[k8s-2<br/>192.168.1.99] 
            k8s3[k8s-3<br/>192.168.1.100]
        end
        
        subgraph apps[Applications]
            direction LR
            monitoring[Monitoring<br/>Stack]
            storage[Rook Ceph<br/>Storage]
            logging[Loki<br/>Logging]
        end
    end
    
    nginx --> apps
    nodes -.-> apps
    
    classDef node fill:#e1f5fe
    classDef ingress fill:#fff3e0
    classDef app fill:#f3e5f5
    
    class k8s1,k8s2,k8s3 node
    class nginx,cloudflare ingress
    class monitoring,storage,logging app
```

## Core Applications

### Infrastructure Layer
- **Flux**: GitOps operator managing all deployments
- **Cilium**: eBPF-based networking and security
- **Rook-Ceph**: Distributed storage system
- **External Secrets**: Integration with 1Password

### Platform Services  
- **NGINX Ingress**: Traffic routing (internal/external)
- **Cert-Manager**: Automatic TLS certificate management
- **Cloudflare Tunnel**: Secure external access

### Observability Stack
- **Prometheus**: Metrics collection and alerting
- **Grafana**: Visualization and dashboards  
- **Loki**: Log aggregation and querying
- **AlertManager**: Alert routing and notification
