---
apiVersion: objectbucket.io/v1alpha1
kind: ObjectBucketClaim
metadata:
  name: iceberg-test
  namespace: data-platform
  labels:
    app.kubernetes.io/name: iceberg-test
    app.kubernetes.io/component: storage
    app.kubernetes.io/part-of: data-platform
spec:
  generateBucketName: iceberg-test
  storageClassName: ceph-bucket
  # Note: Complex lifecycle configs must be applied via Ceph tools
  # Only simple string key-value pairs are supported in additionalConfig  
  additionalConfig:
    maxObjects: "10000"  # Reasonable limit for test data
    maxSize: "10Gi"      # 10GB limit for test bucket