---
apiVersion: objectbucket.io/v1alpha1
kind: ObjectBucketClaim
metadata:
  name: iceberg-warehouse
  namespace: data-platform
  labels:
    app.kubernetes.io/name: iceberg-warehouse
    app.kubernetes.io/component: storage
    app.kubernetes.io/part-of: data-platform
spec:
  generateBucketName: iceberg-warehouse
  storageClassName: ceph-bucket
  # Note: Complex lifecycle configs must be applied via Ceph tools
  # Only simple string key-value pairs are supported in additionalConfig
  additionalConfig:
    maxObjects: "500000"  # Allow large datasets for analytics
    maxSize: "1Ti"        # Set 1TB limit for warehouse data